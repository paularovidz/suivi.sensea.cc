---
import CallToAction from "@/components/sections/CallToAction.astro";
import Base from "@/layouts/Base.astro";
import { getEntryCTM } from "@/lib/contentParser.astro";
import handleDraftPage from "@/lib/utils/handleDraftPage";
import { generatePaths } from "@/lib/utils/languageParser.ts";

export function getStaticPaths() {
  return generatePaths();
}

const entry = await getEntryCTM("reserver", "-index", Astro.currentLocale);

// Remove drafts pages in production
const response = handleDraftPage(entry?.data);
if (response) return response;
---

<Base {...entry?.data}>
  <div class="calendly-inline-widget mt-10 md:mt-0" data-url="https://calendly.com/sensea/seance-snoezelen?hide_event_type_details=1&hide_gdpr_banner=1" style="min-width:320px;height:700px;"></div>
  <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" defer is:inline></script>
</Base>